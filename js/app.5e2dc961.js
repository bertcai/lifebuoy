(function(t){function a(a){for(var s,r,o=a[0],c=a[1],l=a[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(a);while(d.length)d.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==i[c]&&(s=!1)}s&&(n.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},n=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/lifebuoy/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0ee8":function(t,a,e){},"2ff8":function(t,a,e){},"34ce":function(t,a,e){"use strict";var s=e("a0a8"),i=e.n(s);i.a},3931:function(t,a,e){"use strict";var s=e("a4d1"),i=e.n(s);i.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Header"),e("div",{staticClass:"main-home"},[e("router-view",{staticClass:"main",attrs:{name:"main"}}),e("router-view",{staticClass:"side",attrs:{name:"sidebar"}})],1),e("div",{staticClass:"footer"})],1)},n=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav"},[e("div",{staticClass:"wrap clearfix"},[e("router-link",{staticClass:"logo",attrs:{to:{name:"home"}}},[e("img",{attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg"}})]),e("ul",[e("li",[e("router-link",{staticClass:"active",attrs:{to:{name:"home"}}},[e("span",[t._v("首页")])])],1),e("li",[e("router-link",{attrs:{to:{name:"home"}}},[e("span",{attrs:{href:"#"}},[t._v("新手入门")])])],1),e("li",[e("router-link",{attrs:{to:{name:"home"}}},[e("span",{attrs:{href:"#"}},[t._v("API")])])],1),e("li",[e("router-link",{attrs:{to:{name:"home"}}},[e("span",{attrs:{href:"#"}},[t._v("关于")])])],1),e("li",[e("router-link",{attrs:{to:{name:"home"}}},[e("span",{attrs:{href:"#"}},[t._v("注册")])])],1),e("li",[e("router-link",{attrs:{to:{name:"home"}}},[e("span",{attrs:{href:"#"}},[t._v("登陆")])])],1)])],1)])},o=[],c={name:"Header"},l=c,u=(e("34ce"),e("2877")),f=Object(u["a"])(l,r,o,!1,null,"b183e2b6",null),d=f.exports,p={name:"App",components:{Header:d}},_=p,v=(e("5c0b"),Object(u["a"])(_,i,n,!1,null,null,null)),m=v.exports,h=e("8c4f"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[t.isLoading?t._e():e("div",{staticClass:"post"},[t._m(0),e("ul",t._l(t.itemlist,function(a){return e("li",{key:a.id,staticClass:"clearfix"},[e("router-link",{attrs:{to:{name:"userInfo",params:{id:a.author.loginname}}}},[e("img",{staticClass:"avatar",attrs:{src:a.author.avatar_url}})]),e("span",{staticClass:"count-wrap"},[e("span",{staticClass:"reply-count"},[t._v(t._s(a.reply_count))]),t._v("/\n          "),e("span",{staticClass:"visit-count"},[t._v(t._s(a.visit_count))])]),e("div",{staticClass:"wrap"},[e("span",{class:[{top:!0===a.top,good:!0===a.good,cate:!0}]},[t._v(t._s(t._f("formatTab")(a.tab,a.top,a.good)))]),e("router-link",{attrs:{to:{name:"article",params:{id:a.id,author:a.author.loginname}}}},[e("span",{staticClass:"title"},[t._v(t._s(a.title))])])],1),e("span",{staticClass:"last-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)}),0)]),t.isLoading?e("div",{staticClass:"loading"},[e("i",{staticClass:"iconfont icon-loading"})]):t._e(),e("Pagination",{on:{"page-change":t.handlePageChange}})],1)},C=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-bar"},[e("a",{staticClass:"active",attrs:{href:"#"}},[t._v("全部")]),e("a",{attrs:{href:"#"}},[t._v("精华")]),e("a",{attrs:{href:"#"}},[t._v("分享")]),e("a",{attrs:{href:"#"}},[t._v("问答")]),e("a",{attrs:{href:"#"}},[t._v("招聘")]),e("a",{attrs:{href:"#"}},[t._v("客户端测试")])])}],b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[e("div",{staticClass:"wrap"},[e("span",{on:{click:function(a){t.currentPage=1}}},[t._v("首页")]),e("span",{on:{click:function(a){t.currentPage=t.currentPage>1?t.currentPage--:1}}},[t._v("上一页")]),t.currentPage>=4?e("span",{staticClass:"disable"},[t._v("...")]):t._e(),t._l(t.pageBtns,function(a,s){return e("span",{key:s,class:[{active:t.currentPage===a},{disable:"..."===a}],on:{click:function(e){t.currentPage="number"===typeof a?a:t.currentPage}}},[t._v(t._s(a))])}),e("span",{on:{click:function(a){t.currentPage++}}},[t._v("下一页")])],2)])},y=[],I={name:"Pagination",data:function(){return{pageBtns:[1,2,3,4,5,"..."],currentPage:1}},methods:{changePage:function(){if(this.currentPage>=4){var t=this.currentPage;this.pageBtns=[t-2,t-1,t,t+1,t+2,"..."]}else this.pageBtns=[1,2,3,4,5,"..."];"number"===typeof this.currentPage&&(console.log(this.currentPage),this.$emit("page-change",this.currentPage))}},watch:{currentPage:function(){this.changePage()}}},k=I,P=(e("6eee"),Object(u["a"])(k,b,y,!1,null,"8090616a",null)),w=P.exports,L={name:"Postlist",data:function(){return{isLoading:!1,itemlist:[],page:1}},components:{Pagination:w},methods:{getItemlist:function(){var t=this;this.isLoading=!0,this.$http.get("/topics",{params:{page:this.page,limit:20}}).then(function(a){t.itemlist=a.data.data,console.log(t.itemlist),t.isLoading=!1}).catch(function(t){console.log(t)})},handlePageChange:function(t){this.page=t,console.log(this.page),this.getItemlist()}},beforeMount:function(){this.isLoading=!0,this.getItemlist()}},x=L,$=(e("aaef"),Object(u["a"])(x,g,C,!1,null,"3cbc8a94",null)),j=$.exports,O=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[t.isLoading?t._e():e("div",{staticClass:"wrap"},[e("div",{staticClass:"article-header"},[e("span",{staticClass:"cate"},[t._v(t._s(t._f("formatTab")(t.article.tab,t.article.top,t.article.good)))]),e("h2",{staticClass:"title"},[t._v(t._s(t.article.title))]),e("div",{staticClass:"desc"},[e("span",[t._v("发布于 "+t._s(t._f("formatTime")(t.article.create_at)))]),e("router-link",{attrs:{to:{name:"userInfo",params:{id:t.article.author.loginname}}}},[e("span",{staticClass:"author"},[t._v("作者 "+t._s(t.article.author.loginname))])]),e("span",[t._v(t._s(t.article.visit_count)+" 次浏览")]),e("span",[t._v("来自 "+t._s(t._f("formatTab")(t.article.tab)))])],1)]),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}})]),t.isLoading?t._e():e("div",{staticClass:"reply-box"},[e("div",{staticClass:"reply-header"},[t._v(t._s(t.article.reply_count)+" 回复")]),e("div",{staticClass:"reply-content"},t._l(t.article.replies,function(a,s){return e("div",{key:a.id,staticClass:"reply-item"},[e("router-link",{attrs:{to:{name:"userInfo",params:{id:a.author.loginname}}}},[e("img",{staticClass:"avatar",attrs:{src:a.author.avatar_url}})]),e("div",{staticClass:"user-info"},[e("router-link",{attrs:{to:{name:"userInfo",params:{id:a.author.loginname}}}},[e("span",{staticClass:"reply-author"},[t._v(t._s(a.author.loginname))])]),e("div",{staticClass:"reply-desc"},[t._v(t._s(s+1)+"楼 • "+t._s(t._f("formatTime")(a.create_at)))])],1),e("div",{staticClass:"reply-details",domProps:{innerHTML:t._s(a.content)}}),e("div",{staticClass:"reply-good"},[e("i",{staticClass:"iconfont icon-zan_"}),t._v("\n          "+t._s(a.ups.length)+"\n        ")])],1)}),0)]),t.isLoading?e("div",{staticClass:"loading"},[e("i",{staticClass:"iconfont icon-loading"})]):t._e()])},T=[],M={name:"Article",data:function(){return{isLoading:!0,article:{}}},methods:{getArticle:function(){var t=this;this.$http.get("/topic/".concat(this.$route.params.id)).then(function(a){t.article=a.data.data,t.isLoading=!1,console.log(t.article)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.isLoading=!0,this.getArticle()},watch:{$route:function(){this.isLoading=!0,this.getArticle()}}},E=M,S=(e("3931"),Object(u["a"])(E,O,T,!1,null,"3042b3e4",null)),U=S.exports,A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[t.isLoading?t._e():e("div",[e("div",{staticClass:"userinfo"},[e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/"}},[e("span",[t._v("主页 /")])])],1),e("div",{staticClass:"content"},[e("div",{staticClass:"wrap"},[e("img",{staticClass:"user-avatar",attrs:{src:t.userInfo.avatar_url}}),e("span",[t._v(t._s(t.userInfo.loginname))])]),e("p",{staticClass:"score"},[t._v(t._s(t.userInfo.score)+" 积分")]),e("p",{staticClass:"register-time"},[t._v("注册时间："+t._s(t._f("formatTime")(t.userInfo.create_at)))])])]),e("div",{staticClass:"topic"},[e("div",{staticClass:"header"},[t._v("最近创建的话题")]),t._l(t.userInfo.recent_topics,function(a){return e("div",{key:a.id,staticClass:"item"},[e("img",{attrs:{src:a.author.avatar_url}}),e("router-link",{attrs:{to:{name:"article",params:{id:a.id,author:a.author.loginname}}}},[e("span",{staticClass:"title"},[t._v(t._s(a.title))])]),e("span",{staticClass:"last-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)})],2),e("div",{staticClass:"topic"},[e("div",{staticClass:"header"},[t._v("最近参与的话题")]),t._l(t.userInfo.recent_replies,function(a){return e("div",{key:a.id,staticClass:"item"},[e("router-link",{attrs:{to:{name:"userInfo",params:{id:a.author.loginname}}}},[e("img",{attrs:{src:a.author.avatar_url}})]),e("router-link",{attrs:{to:{name:"article",params:{id:a.id,author:a.author.loginname}}}},[e("span",{staticClass:"title"},[t._v(t._s(a.title))])]),e("span",{staticClass:"last-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)})],2)]),t.isLoading?e("div",{staticClass:"loading"},[e("i",{staticClass:"iconfont icon-loading"})]):t._e()])},B=[],H={name:"UserInfo",data:function(){return{isLoading:!1,userInfo:{}}},methods:{getUserInfo:function(){var t=this;this.$http.get("/user/"+this.$route.params.id).then(function(a){t.userInfo=a.data.data,t.isLoading=!1,console.log(t.userInfo),console.log(t.isLoading)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.isLoading=!0,this.getUserInfo()},watch:{$route:function(){this.isLoading=!0,this.getUserInfo()}}},D=H,J=(e("64c7"),Object(u["a"])(D,A,B,!1,null,"602a6b99",null)),z=J.exports,F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[t.isLoading?t._e():e("div",[e("div",{staticClass:"userinfo"},[e("div",{staticClass:"header"},[t._v("个人信息")]),e("div",{staticClass:"content"},[e("div",{staticClass:"wrap"},[e("router-link",{attrs:{to:{name:"userInfo",params:{id:t.userInfo.loginname}}}},[e("img",{staticClass:"user-avatar",attrs:{src:t.userInfo.avatar_url}})]),e("span",[t._v(t._s(t.userInfo.loginname))])],1),e("p",{staticClass:"score"},[t._v(t._s(t.userInfo.score)+" 积分")]),e("p",{staticClass:"register-time"},[t._v("注册时间："+t._s(t._f("formatTime")(t.userInfo.create_at)))])])]),e("div",{staticClass:"topic"},[e("div",{staticClass:"header"},[t._v("最近创建的话题")]),t._l(t.userInfo.recent_topics,function(a){return e("div",{key:a.id,staticClass:"item"},[e("router-link",{attrs:{to:{name:"article",params:{id:a.id,author:a.author.loginname}}}},[e("span",{staticClass:"title"},[t._v(t._s(a.title))])]),e("span",{staticClass:"last-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)})],2),e("div",{staticClass:"topic"},[e("div",{staticClass:"header"},[t._v("最近参与的话题")]),t._l(t.userInfo.recent_replies,function(a){return e("div",{key:a.id,staticClass:"item"},[e("router-link",{attrs:{to:{name:"article",params:{id:a.id,author:a.author.loginname}}}},[e("span",{staticClass:"title"},[t._v(t._s(a.title))])]),e("span",{staticClass:"last-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)})],2)]),t.isLoading?e("div",{staticClass:"loading"},[e("i",{staticClass:"iconfont icon-loading"})]):t._e()])},N=[],R={name:"SideBar",data:function(){return{userInfo:{},isLoading:!0}},methods:{getUserInfo:function(){var t=this;this.$http.get("/user/"+this.$route.params.author).then(function(a){t.userInfo=a.data.data,t.isLoading=!1,console.log(t.userInfo),console.log(t.isLoading)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.isLoading=!0,this.getUserInfo()}},q=R,G=(e("89e6"),Object(u["a"])(q,F,N,!1,null,"07812125",null)),K=G.exports,Q=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",[t._v("404 Not Found")])])}],W={name:"Error"},X=W,Y=Object(u["a"])(X,Q,V,!1,null,"088478cd",null),Z=Y.exports;s["a"].use(h["a"]);var tt=new h["a"]({mode:"history",routes:[{path:"/",name:"home",components:{main:j}},{path:"/article/:id&:author",name:"article",components:{main:U,sidebar:K}},{path:"/userInfo/:id",name:"userInfo",components:{main:z}},{path:"/404",components:{main:Z}},{path:"*",redirect:"/404"}]}),at=e("2f62");s["a"].use(at["a"]);var et=new at["a"].Store({state:{},mutations:{},actions:{}}),st=e("bc3a"),it=e.n(st);it.a.defaults.baseURL="https://cnodejs.org/api/v1";var nt=it.a;s["a"].config.productionTip=!1,s["a"].prototype.$http=nt,s["a"].filter("formatTime",function(t){var a=new Date(t),e=Date.now(),s=(e-a)/1e3;switch(!0){case s<30:return"刚刚";case s<60:return Math.ceil(s)+"s前";case s<3600:return Math.ceil(s/60)+"分钟前";case s<86400:return Math.ceil(s/3600)+"小时前";case s<2592e3:return Math.ceil(s/86400)+"天前";case s<31104e3:return Math.ceil(s/2592e3)+"月前";default:return"1年前"}}),s["a"].filter("formatTab",function(t,a,e){if(a)return"置顶";if(e)return"精华";switch(t){case"share":return"分享";case"ask":return"问答";case"jon":return"招聘"}}),new s["a"]({router:tt,store:et,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var s=e("e332"),i=e.n(s);i.a},"64c7":function(t,a,e){"use strict";var s=e("a0ec"),i=e.n(s);i.a},"6eee":function(t,a,e){"use strict";var s=e("2ff8"),i=e.n(s);i.a},"89e6":function(t,a,e){"use strict";var s=e("cb6c"),i=e.n(s);i.a},a0a8:function(t,a,e){},a0ec:function(t,a,e){},a4d1:function(t,a,e){},aaef:function(t,a,e){"use strict";var s=e("0ee8"),i=e.n(s);i.a},cb6c:function(t,a,e){},e332:function(t,a,e){}});
//# sourceMappingURL=app.5e2dc961.js.map